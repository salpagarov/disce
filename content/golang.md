---
title: Совсем другая книга про Go
---

# Совсем другая книга про Go

"Маленькие книги" Карла Сегуина – лучшее, что только есть в жанре "быстрого старта". В них только самое главное. Подробности, в которых так легко утонуть поначалу, так же легко восполнить правильно заданными вопросами и самостоятельно найденными ответами. 

Когда-то "Маленькая книга про Go" вдохновила меня написать несколько других "маленьких книг" на темы, для которых книг Карла не было. А потом, когда я сам пришел к Go и вернулся к этой книге, вдруг оказалось, что многое изменилось. Это будет совсем другая книга про Go. Не судите строго.

Go это "C++ для маленьких". Звучит странно, но именно такие ожидания были в Google от нового языка программирования. Простой, производительный, безопасный. В итоге получился компактный компилируемый язык со строгой типизацией, автоматическим управлением памятью, поддержкой многозадачности. Со своим менеджером пакетов, дающем доступ к большой библиотеке готовых решений, позволяющих даже новичку быть достаточно эффективным. И еще большему количеству сторонних пакетов – прямо из Интернета.

Он хорош во всем, кроме кривой обучения. В качестве первого языка он не то, чтобы ужасен – просто с самого начала нужно знать много того, что обычно изучается чуть ли не в последнюю очередь. Рассказывать о нем – настоящий вызов. Но я попробую. Опять же, не судите строго.

## Пакеты

В Go пакеты повсюду. Одни входят в стандартную библиотеку, другие – ваши собственные, третьи написаны кем-то еще. Все программы на Go – тоже пакеты, единственное отличие которых в том, что они называются `main`. Такие пакеты после компиляции собираются в единый исполнимый файл, где кроме `main` помещается и целое дерево зависимостей – пакетов, нужных для ему работы, и пакетом, нужным для работы им. 

## Первая программа

Первая программу нужна для того, чтобы убедится – вы все установили и настроили. А еще она нужна для того, чтобы преодолеть барьер входа – ты уже написал программу, осталось только разобраться как.



Создайте директорию для своего первого пакета.

~~~bash
$ mkdir hello
$ cd hello
~~~

А теперь создадим `go.mod` с конфигурационной информацией.

~~~bash
$ go mod init greetings
~~~

Теперь в любом текстовом редакторе создайте файл `hello_main.go`:

~~~go
package main
import "fmt"

func main() {
	fmt.Println("The Ultimate Question answer:", answer)
}
~~~

и еще один файл – `answer.go`

~~~go
package main
import "fmt"

var answer = 42
~~~

Переведем дух и посмотрим, чего мы тут наворотили.







Выполните его:

~~~
$ go run hello.go
Hello, world!
~~~

Или скомпилируйте и выполните:

~~~
$ go build hello.go
$ ./hello
Hello, world!
~~~

Теперь вы знаете достаточно, чтобы превратить исходный код на языке Go в двоичный исполняемый файл для вашей операционной системы (Windows, Linux, MacOS, Android, iOS и еще много других) и вашего процессора (тоже с десяток разновидностей). 

Обратите внимание, что имя файла с исходным кодом отличается от названия пакета (`package main`). Имена пакетов никак не связаны с именами файлов. 

## Команда Go

Это официальное название. Одна-единственная "команда go" используется для компиляции, выполнения, тестирования, управления зависимостями, форматирования исходного кода… для всего.  Настоящий "швейцарский нож" и осваивать его лучше постепенно.

## Первая программа

Пройти все этапы от написания кода до его выполнения – первый урок в изучении любого языка программирования.









В пакетах хранятся данные и "логика" -- код на языке программирования, определяющий что и как делать. Данные хранятся в переменных, код -- в функциях. У тех и у других есть имена и они должны быть уникальными внутри пакета. Правила именования типичны для многих языком программирования: они могут содержать буквы, цифры и знак подчеркивания, но не должны начинаться с цифры. Особенное значение имеет регистр первой буквы -- если она заглавная (прописная), то к переменной или функции можно обратиться извне, если строчная, то она доступна только внутри пакета. 

В нашей первой программе мы создали модуль `main` (строка `package main`), в котором определена функция `main` (строка `func main...`).  Эти имена имеют особое значение. В программе на Go выполнение начинается с функции `main` модуля `main`.

> Такие сущности называются "магическими", потому что особые свойства им придают их особые имена.

А еще для работы нам еще нужен пакет `fmt` для того, чтобы вывести на экран строку в нужном формате (строка `import "fmt"`). 

### 